<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Games & Printables - Learn Pig Latin</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #fdfcff;
      color: #333;
      margin: 0;
      padding: 0;
    }
    header {
      background: linear-gradient(to right, #1e3c72, #9b59b6);
      color: white;
      text-align: center;
      padding: 1.5rem;
    }
    nav {
      background: #e0d3ff;
      display: flex;
      justify-content: center;
      gap: 2rem;
      padding: 1rem;
      flex-wrap: wrap;
    }
    nav a {
      font-weight: bold;
      text-decoration: none;
      color: #333;
    }
    h2 {
      color: #6341f7;
      text-align: center;
      margin-top: 2rem;
    }
    .grid-container {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 1rem;
      padding: 1rem;
    }
    .puzzle-card {
      width: 180px;
      background: white;
      border-radius: 10px;
      padding: 1rem;
      box-shadow: 0 0 8px rgba(0, 0, 0, 0.1);
      text-align: center;
    }
    .puzzle-card img {
      width: 100%;
      height: auto;
      margin-bottom: 0.5rem;
    }
    .btn {
      background-color: #6341f7;
      border: none;
      padding: 0.4rem 0.6rem;
      color: white;
      font-size: 0.75rem;
      font-weight: bold;
      border-radius: 0.5rem;
      cursor: pointer;
      margin: 0.2rem;
    }
    .btn:hover {
      background-color: #4e30c8;
    }
    .answer-key {
      display: none;
      margin-top: 0.5rem;
    }
    footer {
      background: linear-gradient(to right, #1e3c72, #9b59b6);
      color: white;
      text-align: center;
      padding: 1rem;
      margin-top: 2rem;
    }
  </style>
</head>
<body>
  <header>
    <h1>Pig Latin Games & Printables</h1>
    <p>Learn, laugh, and play with Pig Latin!</p>
  </header>

  <nav>
    <a href="lessons.html">Lessons & Translator</a>
    <a href="games.html">Games & Printables</a>
    <a href="piglatinia.html">Piglatinia</a>
    <a href="products.html">Products</a>
  </nav>

  <h2>üìÑ Printable Word Searches</h2>
  <div class="grid-container">
<p><a href="animal-wordsearch.html">üß© Play Interactive Animal Word Search</a></p>
<!-- Insert this inside your games.html where you want the Animal Puzzle section -->
<section id="animal-wordsearch" style="text-align: center; margin-top: 3rem;">
  <h2 style="color: #6e00ff;">üß† Interactive Word Search: Animals</h2>
  <p style="color: #333;">Click and drag to highlight Pig Latin animal words!</p>
  <canvas id="wordsearch" width="560" height="560" style="margin: 1rem auto; background: white; display: block;"></canvas>
  <button onclick="printCanvas()" class="btn" style="margin-top: 1rem; background: #6e00ff; color: white; padding: 0.5rem 1rem; border-radius: 8px; border: none; cursor: pointer; font-weight: bold;">üñ®Ô∏è Print Puzzle</button>
</section>

<script>
const words = [
  "EBRAZAY", "ONKEYMAY", "IRDBAY", "ISHFAY", "ATCAY",
  "OGDAY", "IGPAY", "ABBITRAY", "UCKDAY", "ORSEHAY",
  "IRAFFEGAY", "ELEPHANTWAY", "IONLAY", "OOSTERRAY"
];

const gridSize = 14;
const cellSize = 40;
const canvas = document.getElementById("wordsearch");
const ctx = canvas.getContext("2d");
let grid = [];

function fillGrid() {
  grid = Array.from({ length: gridSize }, () => Array(gridSize).fill(""));

  function placeWord(word) {
    const directions = [
      [0, 1], [1, 0], [1, 1], [-1, 1]
    ];
    let placed = false;
    while (!placed) {
      const dir = directions[Math.floor(Math.random() * directions.length)];
      const row = Math.floor(Math.random() * gridSize);
      const col = Math.floor(Math.random() * gridSize);
      let fits = true;
      for (let i = 0; i < word.length; i++) {
        const r = row + dir[0] * i;
        const c = col + dir[1] * i;
        if (r < 0 || r >= gridSize || c < 0 || c >= gridSize || (grid[r][c] && grid[r][c] !== word[i])) {
          fits = false;
          break;
        }
      }
      if (fits) {
        for (let i = 0; i < word.length; i++) {
          const r = row + dir[0] * i;
          const c = col + dir[1] * i;
          grid[r][c] = word[i];
        }
        placed = true;
      }
    }
  }

  for (const word of words) {
    placeWord(word);
  }
  const letters = "ABCDEFGHIJKLMNOPQRSTUVWXYZ";
  for (let r = 0; r < gridSize; r++) {
    for (let c = 0; c < gridSize; c++) {
      if (!grid[r][c]) grid[r][c] = letters[Math.floor(Math.random() * letters.length)];
    }
  }
}

function drawGrid() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);
  ctx.font = "20px monospace";
  ctx.textAlign = "center";
  ctx.textBaseline = "middle";
  for (let r = 0; r < gridSize; r++) {
    for (let c = 0; c < gridSize; c++) {
      ctx.fillStyle = "#000";
      ctx.fillText(grid[r][c], c * cellSize + cellSize / 2, r * cellSize + cellSize / 2);
      ctx.strokeStyle = "#aaa";
      ctx.strokeRect(c * cellSize, r * cellSize, cellSize, cellSize);
    }
  }
}

canvas.addEventListener("mousedown", startHighlight);
let isDragging = false;
let start = null;

function startHighlight(e) {
  const rect = canvas.getBoundingClientRect();
  const x = e.clientX - rect.left;
  const y = e.clientY - rect.top;
  start = [Math.floor(y / cellSize), Math.floor(x / cellSize)];
  isDragging = true;
  canvas.addEventListener("mousemove", drawHighlight);
  canvas.addEventListener("mouseup", endHighlight);
}

function drawHighlight(e) {
  if (!isDragging || !start) return;
  drawGrid();
  const rect = canvas.getBoundingClientRect();
  const x = e.clientX - rect.left;
  const y = e.clientY - rect.top;
  const end = [Math.floor(y / cellSize), Math.floor(x / cellSize)];

  const [r1, c1] = start;
  const [r2, c2] = end;

  ctx.fillStyle = "rgba(255, 255, 0, 0.4)";
  ctx.beginPath();
  ctx.fillRect(Math.min(c1, c2) * cellSize, Math.min(r1, r2) * cellSize,
               (Math.abs(c2 - c1) + 1) * cellSize, (Math.abs(r2 - r1) + 1) * cellSize);
  ctx.closePath();
}

function endHighlight() {
  isDragging = false;
  start = null;
  canvas.removeEventListener("mousemove", drawHighlight);
  canvas.removeEventListener("mouseup", endHighlight);
}

function printCanvas() {
  const dataUrl = canvas.toDataURL();
  const win = window.open();
  win.document.write(`<img src="${dataUrl}" style="width:100%; max-width:700px;" onload="window.print(); window.onafterprint = () => window.close();" />`);
  win.document.close();
}

fillGrid();
drawGrid();
</script>

    <!-- Puzzle Template -->
    <div class="puzzle-card">
      <strong>Animals</strong>
      <p><a href="animal-wordsearch.html" target="_blank">üê∑ Play Interactive Puzzle</a></p>
      <img id="puzzle-animals" src="printables/PigLatin_Animals_with_translations_final_page1.png" alt="Animals Puzzle">
      <div>
        <button class="btn" onclick="printImage('puzzle-animals')">üñ®Ô∏è Print Puzzle</button>
        <button class="btn" onclick="toggleAnswer('animals')">üîç Show Answer</button>
      </div>
      <div id="answer-animals" class="answer-key">
        <img id="answer-animals-img" src="printables/PigLatin_Animals_answer_key_circled_final_page1.png" alt="Animals Answer Key">
        <button class="btn" onclick="printImage('answer-animals-img')">üñ®Ô∏è Print Answer</button>
      </div>
    </div>

    <!-- Copy this block for each of the other puzzles: Adjectives, Colors & Shapes, Nouns, Verbs -->
    <!-- Replace filenames and ids accordingly -->
    <!-- Example below for Adjectives -->

    <div class="puzzle-card">
      <strong>Adjectives</strong>
      <img id="puzzle-adj" src="printables/PigLatin_Adjectives_with_translations_final_page1.png" alt="Adjectives Puzzle">
      <div>
        <button class="btn" onclick="printImage('puzzle-adj')">üñ®Ô∏è Print Puzzle</button>
        <button class="btn" onclick="toggleAnswer('adj')">üîç Show Answer</button>
      </div>
      <div id="answer-adj" class="answer-key">
        <img id="answer-adj-img" src="printables/PigLatin_Adjectives_answer_key_circled_final_page1.png" alt="Adjectives Answer">
        <button class="btn" onclick="printImage('answer-adj-img')">üñ®Ô∏è Print Answer</button>
      </div>
    </div>

    <!-- Repeat similarly for Colors & Shapes, Nouns, Verbs -->

  </div>

  <footer>
    &copy; 2025 Learn Pig Latin. Oink yeah!
  </footer>

  <script>
    function toggleAnswer(key) {
      const el = document.getElementById(`answer-${key}`);
      el.style.display = el.style.display === 'block' ? 'none' : 'block';
    }

    function printImage(id) {
      const img = document.getElementById(id);
      const win = window.open('', '_blank');
      win.document.write(`
        <html>
        <head><title>Print</title></head>
        <body style="margin:0; text-align:center;">
          <img src="${img.src}" style="width:100%; max-width:1000px;" />
          <script>
            window.onload = function() {
              window.print();
              window.onafterprint = function() { window.close(); };
            }
          <\/script>
        </body>
        </html>
      `);
      win.document.close();
    }
  </script>
</body>
</html>
